(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-598b19e5"],{"0d31":function(e,t,a){"use strict";var r=a("ea92"),i=a.n(r);i.a},"725e":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"wrapper",staticClass:"overview-path",class:{"overview-path--more":e.hasMore,"overview-path--expand":e.isExpand},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleExpand(t)}}},e._l(e.pathList,function(t,r){return a("span",{key:r,ref:"item",refInFor:!0,staticClass:"overview-path__item",on:{click:function(a){return e.handleClick(r,t)}}},[e._v("\n    "+e._s(e.pathLabel(t))+"\n  ")])}),0)},i=[],n=a("d225"),o=a("b0b4"),s=a("308d"),c=a("6bb5"),u=a("4e2b"),l=a("9ab4"),h=a("60a3"),p=function(e){function t(){var e;return Object(n["a"])(this,t),e=Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.isExpand=!1,e.hasMore=!1,e}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"init",value:function(){var e=this;this.$nextTick(function(){var t=e.$refs.wrapper,a=e.$refs.item;if(t&&a){e.isExpand=!1,e.hasMore=!1;try{var r=t.offsetWidth,i=a[0].offsetWidth*(e.pathList.length+.5);e.hasMore=r<i}catch(n){}}})}},{key:"pathLabel",value:function(e){var t=e.UUID,a=e.Name;return t+"("+a+")"}},{key:"handleExpand",value:function(){this.hasMore&&(this.isExpand=!this.isExpand)}},{key:"handleClick",value:function(e,t){e<this.pathList.length-1&&(this.$emit("path-click",t),this.isExpand=!1)}},{key:"mounted",value:function(){this.init()}},{key:"onPathListChange",value:function(e){e&&this.init()}}]),t}(h["d"]);Object(l["a"])([Object(h["c"])({default:function(){return[]}})],p.prototype,"pathList",void 0),Object(l["a"])([Object(h["e"])("pathList")],p.prototype,"onPathListChange",null),p=Object(l["a"])([h["a"]],p);var b=p,d=b,m=(a("0d31"),a("2877")),f=Object(m["a"])(d,r,i,!1,null,"d1a88bd4",null);t["a"]=f.exports},"7b0cf":function(e,t,a){"use strict";var r=a("bc94"),i=a.n(r);i.a},bc94:function(e,t,a){},cd5d:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("app-view",{staticClass:"ma-customer-list",attrs:{title:e.$t("report.MAList.Title"),"extend-callback":e.toPath}},[e.canOverviewBack?a("overview-path",{attrs:{slot:"header-append","path-list":e.path},on:{"path-click":e.handlePathClick},slot:"header-append"}):e._e(),e._v(" "),a("report-table-switch",{attrs:{slot:"options",columns:e.columns,"button-text":"report.Global.Button.ColumnFilter"},slot:"options"}),e._v(" "),a("report-view",{attrs:{loading:e.isLoading,data:e.clientMAList,columns:e.columns,queries:e.queryItems,"expand-key":"MTAccount"},on:{search:e.handleSearch,"current-change":e.handlePageChange,"cell-click":e.handleCellClick,"sort-change":e.handleSortChange}})],1)},i=[],n=(a("8e6e"),a("456d"),a("ac6a"),a("28a5"),a("75fc")),o=(a("96cf"),a("3b8d")),s=a("bd86"),c=a("d225"),u=a("b0b4"),l=a("308d"),h=a("6bb5"),p=a("4e2b"),b=a("9ab4"),d=a("60a3"),m=a("4bb5"),f=a("66cf"),v=a("725e"),g=a("8c67"),y=a("5e31"),O=a("7929"),k=a("9eb8"),w=a("5e04"),C=[{type:k["b"].Text,prop:"MemberName",label:"report.MAList.Query.Account.Label",default:"",nonzero:!0}],M=[{prop:"UUID",label:"UUID",visible:!0,visibleLocked:!0,width:100},{prop:"MemberName",label:"report.MAList.Column.MemberName",visible:!0,fit:!0,width:120},{prop:"TotalCustomer",label:"MT4",align:"center",class:function(e){return isNaN(+e)?"":+e>0?"cell-clickable":""},visible:!0,width:90},{prop:"SuperiorUUID",label:"report.MAList.Column.SuperiorUUID",visible:!1,width:80,formatter:function(e){if(!e)return"--";var t=e+"";return t}},{prop:"IDCardStatus",label:"report.MAList.Column.IDCardStatus",visible:!0,width:90,formatter:w["a"].idCardStatus},{prop:"BindBankCardStatus",label:"report.MAList.Column.BindBankCardStatus",visible:!0,width:90,formatter:w["a"].bindBankCardStatus},{prop:"Sc",label:"report.MAList.Column.Sc",visible:!0,width:90,formatter:w["a"].mixCommissionAndSpread},{prop:"TradeBalance",label:"report.MAList.Column.TradeBalance",visible:!1,align:"right",width:100,formatter:w["a"].numberWithDigits},{prop:"WalletBalance",label:"report.MAList.Column.WalletBalance",visible:!0,align:"right",width:100,formatter:w["a"].numberWithDigits},{prop:"CreateTimeStamps",label:"report.MAList.Column.CreateTimeStamps",visible:!0,align:"center",width:172,sortable:!0,formatter:w["a"].dateTime},{prop:"LastLoginTimeStamp",label:"report.MAList.Column.LastLoginTimeStamp",visible:!0,align:"center",width:172,sortable:!0,formatter:w["a"].dateTime}];function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach(function(t){Object(s["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var D=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(l["a"])(this,Object(h["a"])(t).apply(this,arguments)),e.isLoading=!1,e.queries=C,e.columns=M,e.queryData={UUIDOrMt:"",MemberName:"",AccountType:2,Pager:{PageIndex:1,PageSize:10,OrderBy:[]}},e}return Object(p["a"])(t,e),Object(u["a"])(t,[{key:"beforeMount",value:function(){var e=this.$route.params.IBAccount;e||this.toPath(),this.queryData.UUIDOrMt=e}},{key:"packPathItem",value:function(e){var t={Account:e.Account,Name:e.Name,UUID:e.Account};return j({},t,{},e)}},{key:"saveQueries",value:function(){this.queries=Object(f["i"])(this.queries,j({},this.queryData))}},{key:"handleSearch",value:function(e){var t=e.MemberName;this.queryData.MemberName=(t+"").trim(),this.queryData.Pager.PageIndex=1,this.reloadList()}},{key:"handlePageChange",value:function(e){this.queryData.Pager.PageIndex=e,this.reloadList()}},{key:"handleSortChange",value:function(e){var t=e.SortName,a=e.SortOrder;this.queryData.Pager.PageIndex=1,void 0!==a&&(this.queryData.Pager.OrderBy=[{Field:t,Type:a}]),this.reloadList()}},{key:"reloadList",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,a,r,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=!(i.length>0&&void 0!==i[0])||i[0],a=i.length>1&&void 0!==i[1]&&i[1],r=j({SearchCondition:{UUIDOrMt:this.queryData.UUIDOrMt,MemberName:this.queryData.MemberName,AccountType:+this.queryData.AccountType}},this.queryData.Pager),!a){e.next=5;break}return e.abrupt("return");case 5:return this.isLoading=!0,e.prev=6,e.next=9,this.getClientMAList(r);case 9:t&&this.saveQueries(),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](6),this.$message.error(e.t0.message);case 15:return e.prev=15,this.isLoading=!1,e.finish(15);case 18:case"end":return e.stop()}},e,this,[[6,12,15,18]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"handleCellClick",value:function(e){var t=Object.assign({},e),a=(t.label,t.value,t.prop,t.row);this.$router.push({name:"management-customer-info",params:{account:a.UUID,name:a.MemberName}})}},{key:"handlePathClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this.accountInfo.UUID;if(e.UUID===a)return this.toPath();this.queryData.UUIDOrMt="",this.queryData.Pager.PageIndex=t,this.saveQueries(),this.queryData.UUIDOrMt=e.Account+"",this.reloadList(!1)}},{key:"toPath",value:function(){this.$router.push("/management-ma-list")}},{key:"queryItems",get:function(){var e=Object(n["a"])(this.queries);return e}},{key:"path",get:function(){var e=this,t=this.clientMAList.Summary||{},a=t.AccountPath,r=void 0===a?"":a,i=[],n=r.split("->");return n.forEach(function(t){var a={Account:t.substring(0,t.indexOf("(")),UUID:t.substring(0,t.indexOf("(")),Name:t.substring(t.indexOf("(")+1,t.indexOf(")"))};i.push(e.packPathItem(a))}),i}},{key:"canOverviewBack",get:function(){return this.path.length>1}}]),t}(d["d"]);Object(b["a"])([Object(m["a"])("AccountStore").State],D.prototype,"accountInfo",void 0),Object(b["a"])([Object(m["a"])("ClientManagementStore").State],D.prototype,"clientMAList",void 0),Object(b["a"])([Object(m["a"])("ClientManagementStore").Action],D.prototype,"getClientMAList",void 0),D=Object(b["a"])([Object(d["a"])({metaInfo:function(){return{title:"KVB PRIME"}},components:{AppView:g["a"],ReportTableSwitch:y["a"],ReportView:O["a"],OverviewPath:v["a"]}})],D);var P=D,I=P,A=(a("7b0cf"),a("2877")),S=Object(A["a"])(I,r,i,!1,null,"49887452",null);t["default"]=S.exports},ea92:function(e,t,a){}}]);