(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41199532"],{"03d3":function(t,e,a){},"0eb7":function(t,e,a){},2173:function(t,e,a){"use strict";var s=a("03d3"),r=a.n(s);r.a},"3f58":function(t,e,a){},"484d":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-view",{attrs:{title:t.title,"extend-callback":t.toPath}},[a("form-item-group",{ref:"validator",attrs:{model:t.formData,validation:t.validation}},[a("div",{staticClass:"tab-content"},[a("form-item",{attrs:{label:t.$t("editPwd.Label.Account"),text:t.accountId}}),t._v(" "),a("form-item",{attrs:{label:t.$t("editPwd.Label.ConcatSelect")}},[a("el-select",{attrs:{placeholder:""},model:{value:t.smsData,callback:function(e){t.smsData=e},expression:"smsData"}},t._l(t.smsConfig,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t}})}),1)],1),t._v(" "),a("form-item",{attrs:{label:t.$t("editPwd.Label.Concat"),text:t.smsData.inputLabel}}),t._v(" "),a("form-item",{attrs:{prop:"VerifyCode",trigger:!1,label:t.$t("editPwd.Label.Verify")}},[a("el-input",{on:{blur:function(e){return t.$refs.validator.validate("VerifyCode")}},model:{value:t.formData.VerifyCode,callback:function(e){t.$set(t.formData,"VerifyCode",e)},expression:"formData.VerifyCode"}}),t._v(" "),a("btn-timer",{attrs:{slot:"option",size:"mini",round:"",text:t.$t("editPwd.GetCode"),time:60},on:{click:function(t){t.preventDefault()},startTimer:function(e){return t.getSMSCode(t.smsData)}},slot:"option"})],1),t._v(" "),a("password-reset-hello",{attrs:{pwdTitle:t.$t("editPwd.Label.SetPwd"),pwdReCheck:t.$t("editPwd.Label.RePwd"),errorRetypeText:t.$t("editPwd.Message.PwdReError")},on:{handleSubmit:t.setPwd}})],1),t._v(" "),a("div",{staticClass:"btn-wrap"},[a("el-button",{class:["g-main-btn",{"is-disabled":!t.isSuccessForm},"el-btn-with-loading"],attrs:{loading:t.isBtnLoading,round:"",type:"primary"},on:{click:function(e){return t.postData(t.formData)}}},[t._v("\n          "+t._s(t.$t("editPwd.Submit"))+"\n        ")]),t._v(" "),a("p",{staticClass:"commit-text"},[t._v(t._s(t.$t("editPwd.SubmitCommit")))])],1)]),t._v(" "),a("form-item-group"),t._v(" "),a("user-sidebar",{attrs:{slot:"aside"},slot:"aside"})],1)},r=[],i=(a("ac6a"),a("456d"),a("96cf"),a("3b8d")),n=a("d225"),o=a("b0b4"),d=a("308d"),c=a("6bb5"),l=a("4e2b"),u=a("9ab4"),m=a("60a3"),p=a("4bb5"),f=a("7a96"),b=a("1988"),v=a("843e"),h=a("5364"),w=a("8c67"),y=a("fb29"),P=a("b77e"),g=a("ffc3"),C=a("b9d3"),k=a("1667"),T=(new b["a"],function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(d["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.isBtnLoading=!1,t.formData={Pwd:"",RePwd:"",VerifyCode:""},t.smsData={value:"",type:0,label:"",inputLabel:""},t.validation={},t}return Object(l["a"])(e,t),Object(o["a"])(e,[{key:"beforeMount",value:function(){var t=this;this.accountId||this.toPath(),this.validation={VerifyCode:[{type:h["c"].Required,message:this.$t("editPwd.Message.Required")},{type:h["c"].Custom,callback:function(e){return t.ruleList.VerifyCode},message:this.$t("editPwd.Message.VerifyError")}]},this.smsData=this.smsConfig[0]}},{key:"postData",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!0!==this.isBtnLoading){t.next=2;break}return t.abrupt("return");case 2:if(e=this.$refs.validator.validate(),e&&this.isSuccessForm){t.next=5;break}return t.abrupt("return");case 5:return a={Receiver:this.smsData.value,VerifyCode:this.formData.VerifyCode,NewPassword:this.formData.Pwd,MT4Account:this.accountId},t.prev=6,this.isBtnLoading=!0,t.next=10,(new b["a"]).changeMtAccountPwd(a);case 10:this.$message.success(this.$t("editPwd.Message.ApiSuccess")),this.toPath(),t.next=17;break;case 14:return t.prev=14,t.t0=t["catch"](6),t.abrupt("return",this.$message.error(t.t0.message));case 17:return t.prev=17,this.isBtnLoading=!1,t.finish(17);case 20:case"end":return t.stop()}},t,this,[[6,14,17,20]])}));function e(){return t.apply(this,arguments)}return e}()},{key:"getSMSCode",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(new v["a"]).getVerifyCodeForCurrentMember({ReceiverType:this.smsData.type});case 3:t.next=9;break;case 5:t.prev=5,t.t0=t["catch"](0),console.error(t.t0.message),this.$message.error(t.t0.message);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));function e(e){return t.apply(this,arguments)}return e}()},{key:"handlerBtnTimer",value:function(){this.$refs.validator.validate("VerifyCode")}},{key:"toPath",value:function(){this.$router.push({name:"management-account"})}},{key:"setPwd",value:function(t){this.formData.Pwd=t}},{key:"smsConfig",get:function(){var t=this.accountInfo,e=t.Email,a=(t.Mobile,t.MobilePrefix,[{label:"Email",value:e,type:2,inputLabel:e}]);return a}},{key:"title",get:function(){return this.$t("editPwd.PageTitle")+" # "+this.$route.params.id}},{key:"accountId",get:function(){return+this.$route.params.id}},{key:"ruleList",get:function(){var t=this.formData,e=t.VerifyCode,a=t.Pwd;t.RePwd,f["a"].PasswordLength,f["a"].PasswordMix,f["a"].PasswordLetter;return{VerifyCode:f["a"].VerifyCode.test(e),Pwd:a}}},{key:"isSuccessForm",get:function(){var t=this;return Object.keys(this.ruleList).every(function(e){return t.ruleList[e]})}}]),e}(m["d"]));Object(u["a"])([Object(p["a"])("AccountStore").State],T.prototype,"accountInfo",void 0),T=Object(u["a"])([Object(m["a"])({metaInfo:function(){return{title:"KVB PRIME"}},components:{AppView:w["a"],FormItem:y["a"],FormItemGroup:P["a"],BtnTimer:g["a"],PasswordResetHello:C["a"],UserSidebar:k["a"]}})],T);var j=T,O=j,x=(a("abf1"),a("2877")),_=Object(x["a"])(O,s,r,!1,null,"37a500dc",null);e["default"]=_.exports},abf1:function(t,e,a){"use strict";var s=a("3f58"),r=a.n(s);r.a},b9d3:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"password-reset-hello"},[a("form-item",{attrs:{label:t.pwdTitle,invalid:!t.validator.ValidContent}},[a("el-input",{attrs:{maxlength:16,type:"password","show-password":"",autocomplete:"new-password"},model:{value:t.formData.UpdatePassword,callback:function(e){t.$set(t.formData,"UpdatePassword",e)},expression:"formData.UpdatePassword"}}),t._v(" "),a("div",{staticClass:"password-setup__validate",attrs:{slot:"append"},slot:"append"},[a("ul",{staticClass:"password-setup"},[a("li",{staticClass:"password-setup__validate-item",class:{"is-invalid":!t.validator.ValidLength}},[t._v(t._s(t.convertText("setting.ChangePassword.FormValidator.PasswordLength")))]),t._v(" "),a("li",{staticClass:"password-setup__validate-item",class:{"is-invalid":!t.validator.ValidMix}},[t._v(t._s(t.convertText("setting.ChangePassword.FormValidator.PasswordMix")))]),t._v(" "),a("li",{staticClass:"password-setup__validate-item",class:{"is-invalid":!t.validator.ValidLetter}},[t._v(t._s(t.convertText("setting.ChangePassword.FormValidator.PasswordLetter")))])])])],1),t._v(" "),a("form-item",{attrs:{label:t.pwdReCheck,"invalid-text":t.retypePasswordInvalidText}},[a("el-input",{attrs:{maxlength:16,type:"password","show-password":"",autocomplete:"new-password"},on:{blur:t.showRetypePasswordInvalidText},model:{value:t.formData.RetypePassword,callback:function(e){t.$set(t.formData,"RetypePassword",e)},expression:"formData.RetypePassword"}})],1)],1)},r=[],i=a("d225"),n=a("b0b4"),o=a("308d"),d=a("6bb5"),c=a("4e2b"),l=a("9ab4"),u=a("60a3"),m=a("58d1"),p=a("8c67"),f=a("b77e"),b=a("fb29"),v=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.formData={UpdatePassword:"",RetypePassword:""},t.isBlurRetpeInput=!1,t}return Object(c["a"])(e,t),Object(n["a"])(e,[{key:"showRetypePasswordInvalidText",value:function(){this.formData.UpdatePassword&&(this.isBlurRetpeInput=!0)}},{key:"handleUpdatePassword",value:function(){var t=this.validator,e=t.ValidContent,a=t.ValidRetype;e&&a?this.$emit("handleSubmit",this.formData.UpdatePassword):this.$emit("handleSubmit","")}},{key:"retypePasswordInvalidText",get:function(){var t=this.validator,e=t.ValidContent,a=t.ValidRetype;return e&&this.isBlurRetpeInput?a?"":this.errorRetypeText:""}},{key:"validator",get:function(){var t=this.formData,e=t.UpdatePassword,a=t.RetypePassword,s={PasswordLength:/.{6,16}/,PasswordMix:/^(?=.*\d)(?=.*[a-z])/,PasswordLetter:/[A-Z]/,PasswordContent:/^(?=.{6,16})(?=.*\d)(?=.*[a-z])(?=.*[A-Z])/};return{ValidLength:s.PasswordLength.test(e)&&e,ValidMix:s.PasswordMix.test(e)&&e,ValidLetter:s.PasswordLetter.test(e)&&e,ValidContent:s.PasswordContent.test(e)&&e,ValidRetype:e===a&&a}}}]),e}(Object(u["b"])(m["a"]));Object(l["a"])([Object(u["c"])({default:function(){return""}})],v.prototype,"pwdTitle",void 0),Object(l["a"])([Object(u["c"])({default:function(){return""}})],v.prototype,"pwdReCheck",void 0),Object(l["a"])([Object(u["c"])({default:function(){return""}})],v.prototype,"errorRetypeText",void 0),Object(l["a"])([Object(u["e"])("validator")],v.prototype,"handleUpdatePassword",null),v=Object(l["a"])([Object(u["a"])({components:{AppView:p["a"],FormItemGroup:f["a"],FormItem:b["a"]}})],v);var h=v,w=h,y=(a("eb0c"),a("2877")),P=Object(y["a"])(w,s,r,!1,null,"a6378658",null);e["a"]=P.exports},eb0c:function(t,e,a){"use strict";var s=a("0eb7"),r=a.n(s);r.a},ffc3:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-button",t._b({staticClass:"get-code-btn",class:{"is-disabled":t.isDisabled||t.smsCodeTimer},attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.startTimer(e)}}},"el-button",t.$attrs,!1),[t._v("\n  "+t._s(t.waitTime?t.waitTime+"s":t.text)+"\n")])},r=[],i=a("d225"),n=a("b0b4"),o=a("308d"),d=a("6bb5"),c=a("4e2b"),l=a("9ab4"),u=a("60a3"),m=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.waitTime=0,t.smsCodeTimer=null,t}return Object(c["a"])(e,t),Object(n["a"])(e,[{key:"created",value:function(){this.clearTimer()}},{key:"mounted",value:function(){this.clearTimer()}},{key:"beforeDestroy",value:function(){this.clearTimer()}},{key:"startTimer",value:function(){if(this.$emit("isClick"),this.isDisabled||this.smsCodeTimer)return!1;this.hanlderTimer(this.time),this.$emit("startTimer")}},{key:"hanlderTimer",value:function(t){var e=this;this.waitTime=t--,this.smsCodeTimer=setTimeout(function(){if(e.waitTime=t,t<=0)return clearTimeout(e.smsCodeTimer),void(e.smsCodeTimer=null);e.hanlderTimer(t)},1e3)}},{key:"clearTimer",value:function(){clearTimeout(this.smsCodeTimer),this.smsCodeTimer=null}}]),e}(u["d"]);Object(l["a"])([Object(u["c"])({default:function(){return""}})],m.prototype,"text",void 0),Object(l["a"])([Object(u["c"])({default:function(){return!1}})],m.prototype,"isDisabled",void 0),Object(l["a"])([Object(u["c"])({default:function(){return 30}})],m.prototype,"time",void 0),m=Object(l["a"])([u["a"]],m);var p=m,f=p,b=(a("2173"),a("2877")),v=Object(b["a"])(f,s,r,!1,null,"5fbcfe6c",null);e["a"]=v.exports}}]);