(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["LoginPwdEdit"],{"03d3":function(t,e,a){},"08bd":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("AppView",{attrs:{title:t.title,"extend-callback":t.handleCancel}},[a("form-item-group",{ref:"validator",staticClass:"form-wrap",attrs:{model:t.formData,validation:t.validation()}},[a("div",{staticClass:"tab-content"},[a("form-item",{attrs:{label:t.$t("settingLogin.Edit.Label.ConcatSelect")}},[a("el-select",{attrs:{placeholder:""},model:{value:t.smsData,callback:function(e){t.smsData=e},expression:"smsData"}},t._l(t.smsConfig,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t}})}),1)],1),t._v(" "),a("form-item",{attrs:{label:t.$t("settingLogin.Edit.Label.Concat"),text:t.smsData.inputLabel}}),t._v(" "),a("form-item",{attrs:{prop:"VerifyCode",label:t.$t("settingLogin.Edit.Label.Verify")}},[a("el-input",{on:{blur:function(e){return t.$refs.validator.validate("VerifyCode")}},model:{value:t.formData.VerifyCode,callback:function(e){t.$set(t.formData,"VerifyCode",e)},expression:"formData.VerifyCode"}}),t._v(" "),a("btn-timer",{attrs:{slot:"option",size:"mini",round:"",text:t.$t("settingLogin.Edit.GetCode"),time:60},on:{click:function(t){t.preventDefault()},startTimer:function(e){return t.getSMSCode(t.smsData.type)}},slot:"option"})],1),t._v(" "),a("password-reset-hello",{attrs:{pwdTitle:t.$t("settingLogin.Edit.Label.SetPwd"),pwdReCheck:t.$t("settingLogin.Edit.Label.RePwd"),errorRetypeText:t.$t("settingLogin.Edit.Message.PwdReError")},on:{handleSubmit:t.setPwd}})],1),t._v(" "),a("div",{staticClass:"btn-wrap"},[a("el-button",{staticClass:"g-main-btn",class:{"is-disabled":!t.isSuccessForm,"el-btn-with-loading":!0},attrs:{round:"",type:"primary",loading:t.isBtnLoading},on:{click:t.popConfirm}},[t._v("\n        "+t._s(t.btnText))])],1)])],1)},r=[],n=(a("ac6a"),a("456d"),a("a481"),a("96cf"),a("3b8d")),s=a("d225"),o=a("b0b4"),c=a("308d"),_=a("6bb5"),u=a("4e2b"),l=a("9ab4"),P=a("60a3"),m=a("4bb5"),p=a("7a96"),d=a("843e"),b=a("1988"),E=a("5364"),A=a("fb29"),v=a("b77e"),f=a("8c67"),h=a("ffc3"),T=a("b9d3"),I=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(c["a"])(this,Object(_["a"])(e).apply(this,arguments)),t.isBtnLoading=!1,t.formData={Pwd:"",RePwd:"",VerifyCode:""},t.smsData={value:"",type:0,label:"",inputLabel:""},t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"beforeMount",value:function(){var t=this.accountInfo;t.Email,t.Mobile,t.MobilePrefix;if(!this.title)return this.handleCancel();this.smsData=this.smsConfig[0]}},{key:"validation",value:function(){var t=this.$t("settingLogin.Edit.Message.Empty");return{VerifyCode:[{type:E["c"].Required,message:t+this.$t("settingLogin.Edit.Message.VertificationNew")},{type:E["c"].Custom,callback:function(t){return p["a"].VerifyCode.test(t)},message:this.$t("settingLogin.Edit.Message.VerifyError")}]}}},{key:"popConfirm",value:function(){var t=this,e=this.$t("settingLogin.Edit.Message.CheckSubmit");this.submitConfirm(e).then(function(){t.postData()}).catch(function(){t.isBtnLoading=!1})}},{key:"postData",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!0!==this.isBtnLoading){t.next=2;break}return t.abrupt("return");case 2:if(e=this.$refs.validator.validate(),e&&this.isSuccessForm){t.next=5;break}return t.abrupt("return");case 5:return a={Receiver:this.smsData.value,VerifyCode:this.formData.VerifyCode,NewPassword:this.formData.Pwd},t.prev=6,this.isBtnLoading=!0,t.next=10,(new b["a"]).saveUserPwdLogin(a);case 10:this.$message.success(this.$t("settingLogin.Edit.Message.ApiSuccess")),this.$router.push("/"),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](6),console.error(t.t0.message),this.$message.error(t.t0.message);case 18:return t.prev=18,this.isBtnLoading=!1,t.finish(18);case 21:case"end":return t.stop()}},t,this,[[6,14,18,21]])}));function e(){return t.apply(this,arguments)}return e}()},{key:"getSMSCode",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(new d["a"]).getVerifyCodeForCurrentMember({ReceiverType:e});case 3:t.next=9;break;case 5:t.prev=5,t.t0=t["catch"](0),console.error(t.t0.message),this.$message.error(t.t0.message);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleCancel",value:function(){var t=this.$route.query.from;this.$router.replace({name:t})}},{key:"setPwd",value:function(t){this.formData.Pwd=t}},{key:"submitConfirm",value:function(t){return this.$confirm(t,"",{showClose:!1,closeOnClickModal:!1,confirmButtonText:this.$t("pay.Global.Confirm"),cancelButtonText:this.$t("pay.Global.Cancel"),cancelButtonClass:"el-button--info"})}},{key:"smsConfig",get:function(){var t=this.accountInfo,e=t.Email,a=(t.Mobile,t.MobilePrefix,[{label:"Email",value:e,type:2,inputLabel:e}]);return a}},{key:"title",get:function(){var t={edit:this.$t("settingLogin.PageTitle.Edit"),add:this.$t("settingLogin.PageTitle.PwdManagement")};return t[this.$route.params.to]}},{key:"btnText",get:function(){var t={edit:this.$t("settingLogin.Edit.Btn.Edit"),add:this.$t("settingLogin.Edit.Btn.Add")};return t[this.$route.params.to]}},{key:"isEdit",get:function(){return"edit"===this.$route.params.to}},{key:"ruleList",get:function(){var t=this.formData,e=t.VerifyCode,a=t.Pwd;t.RePwd,p["a"].PasswordLength,p["a"].PasswordMix,p["a"].PasswordLetter;return{VerifyCode:p["a"].VerifyCode.test(e),Pwd:a}}},{key:"isSuccessForm",get:function(){var t=this;return Object.keys(this.ruleList).every(function(e){return t.ruleList[e]})}}]),e}(P["d"]);Object(l["a"])([Object(m["a"])("AccountStore").State],I.prototype,"accountInfo",void 0),Object(l["a"])([Object(m["a"])("AccountStore").Action],I.prototype,"getAccountInfo",void 0),I=Object(l["a"])([Object(P["a"])({metaInfo:function(){return{title:"KVB PRIME"}},components:{AppView:f["a"],FormItem:A["a"],FormItemGroup:v["a"],BtnTimer:h["a"],PasswordResetHello:T["a"]}})],I);var U=I,V=U,C=(a("7932"),a("2877")),g=Object(C["a"])(V,i,r,!1,null,"da68592e",null);e["default"]=g.exports},"0eb7":function(t,e,a){},2173:function(t,e,a){"use strict";var i=a("03d3"),r=a.n(i);r.a},"33b4":function(t,e,a){"use strict";var i=a("fed8"),r=a.n(i);r.a},"58fc":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-view",{staticClass:"bind-setup",attrs:{title:t.$t("setting.BindAccount.Title")}},[a("div",{staticClass:"menu-list"},[a("div",{staticClass:"confirm-module",class:{"show-module":t.showConfirm}},[a("div",{staticClass:"confirm-content"},[a("div",{staticClass:"confirm-box"},[a("p",{staticClass:"confirm-title"},[t._v(t._s(t.confirmTitle))]),t._v(" "),a("p",{staticClass:"confirm-text"},[t._v(t._s(t.confirmText))])]),t._v(" "),a("div",{staticClass:"confirm-bottom"},[a("button",{staticClass:"bottom-btn btn-left",attrs:{round:""},on:{click:function(e){t.showConfirm=!1}}},[t._v(t._s(t.$t("pay.Global.Cancel")))]),t._v(" "),a("button",{ref:"googlebtn",staticClass:"bottom-btn btn-right",attrs:{type:"primary",round:""}},[t._v(t._s(t.$t("pay.Global.Confirm")))])])])]),t._v(" "),a("div",{staticClass:"app-menu-item__content"},[a("span",{staticClass:"app-menu-item__content-label"},[t._v(t._s(t.dataList[0].name))]),t._v(" "),a("span",{staticClass:"menue-email"},[t._v(t._s(t.dataList[0].email))])]),t._v(" "),a("div",{staticClass:"right-box",on:{click:t.showConfirmModule}},[a("span",{staticClass:"right-text",class:{"icon-text":!t.dataList[0].type}},[t._v("\n        "+t._s(t.dataList[0].type?t.$t("setting.BindAccount.Binded"):t.$t("setting.BindAccount.ToBind"))+"\n      ")]),t._v(" "),a("span",{staticClass:"app-menu-item__content-icon"})])])])},r=[],n=(a("ac6a"),a("7f7f"),a("96cf"),a("3b8d")),s=a("d225"),o=a("b0b4"),c=a("308d"),_=a("6bb5"),u=a("4e2b"),l=a("9ab4"),P=a("60a3"),m=a("4bb5"),p=a("58d1"),d=a("8c67"),b=a("63bd"),E=a("2e69"),A=a("b77e"),v=a("fb29"),f=a("843e"),h=a("b334"),T=new f["a"],I=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(c["a"])(this,Object(_["a"])(e).apply(this,arguments)),t.menuRoute=null,t.auth2=null,t.gapi=null,t.confirmTitle="",t.confirmText="",t.showConfirm=!1,t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"mounted",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:Object({VUE_APP_MAIN_CN:"//{LOCATION}",VUE_APP_MAIN_UK:"//portal.kvbprimexxxx.co.uk",VUE_APP_MAIN_INT:"//portal.kvbprimexxxxx.com",VUE_APP_BASE_API_CN:"//api.{LOCATION}",VUE_APP_BASE_API_UK:"//ucapi.kvbprime.co.uk",VUE_APP_BASE_API_INT:"//api.kvbprime.com",VUE_APP_TRADE_CN:"//trade.kvbprime.asia",VUE_APP_TRADE_UK:"//trade.kvbprime.co.uk",VUE_APP_TRADE_INT:"//trade.kvbprime.com",VUE_APP_CMS_API_CN:"//cmsapi.{LOCATION}",VUE_APP_CMS_API_UK:"//cmsapi.kvbprime.co.uk",VUE_APP_CMS_API_INT:"//cmsapi.kvbprime.com",VUE_APP_HOME_ADDRESS_CN:"//kvbprime.asia",VUE_APP_HOME_ADDRESS_UK:"//kvbprime.co.uk",VUE_APP_HOME_ADDRESS_INT:"//kvbprime.com",VUE_APP_PAY_CN:"//pay.kvbprime.asia",VUE_APP_PAY_UK:"//pay.kvbprime.co.uk",VUE_APP_PAY_INT:"//pay.kvbprime.com",VUE_APP_NEW_BIT:"//main.gotnb.site/_",VUE_APP_NEW_BIT_INT:"//main.gotnb.site/_",VUE_APP_NEW_BIT_REGISTER:"//main.gotnb.site/v2/account/register",VUE_APP_NEW_BIT_REGISTER_TOKEN:"17fc33df88704b41b45de84def55c64a",VUE_APP_NEW_BIT_SDK_URL:"//main.gotnb.site",VUE_APP_NEW_BIT_SDK_LOGIN_URL:"//main.gotnb.site/user/register",VUE_APP_NEW_BIT_SDK_LOGIN_URL_INT:"//gotc.io/user/register",VUE_APP_NEW_BIT_SDK_TOKEN:"17fc33df88704b41b45de84def55c64a",VUE_APP_REGISTER_CN:"//register.kvbprime",VUE_APP_REGISTER_UK:"//register.kvbprime.co.uk",VUE_APP_REGISTER_INT:"//register.kvbprime.com",VUE_APP_QUOTE_API_CN:"//quote.{LOCATION}",VUE_APP_QUOTE_API_UK:"//quote.kvbprime.co.uk",VUE_APP_QUOTE_API_INT:"//quote.kvbprime.com",VUE_APP_INVITE_CLIENT_CN:"//kvbinvite.com",VUE_APP_INVITE_CLIENT_UK:"//kvbshare.co.uk",VUE_APP_INVITE_CLIENT_INT:"//kvbshare.com",VUE_APP_INVITE_IB_CN:"//{LOCATION}",VUE_APP_INVITE_IB_UK:"//kvbshare.co.uk",VUE_APP_INVITE_IB_INT:"//kvbshare.com",VUE_APP_CHAT_CN:"//lc.chat/now/10511302",VUE_APP_CHAT_UK:"//direct.lc.chat/11370537",VUE_APP_CHAT_INT:"//direct.lc.chat/11370537",VUE_APP_STATIC_FILE_CN:"//storage.googleapis.com/kvbprime",VUE_APP_STATIC_FILE_UK:"//statics.kvbprime.co.uk",VUE_APP_STATIC_FILE_INT:"//statics.kvbprime.com",VUE_APP_CRM_V2_CN:"//uc.mykvbprime.com",VUE_APP_CRM_V2_UK:"//uc.kvbprime.co.uk",VUE_APP_CRM_V2_INT:"//uc.kvbprime.com",VUE_APP_HELP_CENTER_CN:"//help.kvbprime.asia",VUE_APP_HELP_CENTER_UK:"/",VUE_APP_HELP_CENTER_INT:"//help.kvbprime.com",VUE_APP_IB_LOGIN_CN:"//kvbma.me",VUE_APP_IB_NEW_LOGIN_CN:"//kvbma.me",VUE_APP_IB_LOGIN_UK:"/",VUE_APP_IB_LOGIN_INT:"//kvbib.com",VUE_APP_IB_LOGIN_DEV_CN:"//ib88beta.fteamx.com",VUE_APP_IB_LOGIN_DEV_UK:"/",VUE_APP_IB_LOGIN_DEV_INT:"//ib88beta-int.fteamx.com",VUE_APP_UPGRADE_API_CN:"//api.mykvbprime.com",VUE_APP_UPGRADE_API_UK:"/",VUE_APP_UPGRADE_API_INT:"//portal.kvbprime.com",VUE_APP_GOOGLE:"533538864517-var9qp028uo23pd481okeb5kf1hqq0dj.apps.googleusercontent.com",VUE_APP_TWITTER:"PKWJJMLjl0kITeAgK5QQ8V7m9",VUE_APP_FACEBOOK:"541089193243130",VUE_APP_AUTH_PROXY:"https://auth-server.herokuapp.com/proxy",VUE_APP_ACTIVITY_API_CN:"//activity-api.kvbprime.com.cn",VUE_APP_ACTIVITY_API_UK:"/",VUE_APP_ACTIVITY_API_INT:"/",VUE_APP_GOOGLE_GRECAPT_INT:"//www.recaptcha.net/recaptcha/api.js?hl=en",VUE_APP_GOOGLE_SITEKEY_INT:"6LcxzMAZAAAAAM2zQZWR_kLhR9mvraDLAeM1BYb5",VUE_APP_COPYTRADE_CN:"//kvb.followme.com",VUE_APP_COPYTRADE_UK:"/",VUE_APP_COPYTRADE_INT:"//kvbprime.followme.com",NODE_ENV:"production",BASE_URL:"/"}),this.createGoogle(),this.initData();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"destroyed",value:function(){var t=document.getElementById("google-jssdk");if(!t)return!1;t.remove()}},{key:"createGoogle",value:function(){var t=this;Object(h["d"])("https://apis.google.com/js/api:client.js",this.createDone,"google-jssdk",function(){var e=t.$refs.googlebtn;t.getPluginsData(e)})}},{key:"createDone",value:function(){var t=this,e=Object({VUE_APP_MAIN_CN:"//{LOCATION}",VUE_APP_MAIN_UK:"//portal.kvbprimexxxx.co.uk",VUE_APP_MAIN_INT:"//portal.kvbprimexxxxx.com",VUE_APP_BASE_API_CN:"//api.{LOCATION}",VUE_APP_BASE_API_UK:"//ucapi.kvbprime.co.uk",VUE_APP_BASE_API_INT:"//api.kvbprime.com",VUE_APP_TRADE_CN:"//trade.kvbprime.asia",VUE_APP_TRADE_UK:"//trade.kvbprime.co.uk",VUE_APP_TRADE_INT:"//trade.kvbprime.com",VUE_APP_CMS_API_CN:"//cmsapi.{LOCATION}",VUE_APP_CMS_API_UK:"//cmsapi.kvbprime.co.uk",VUE_APP_CMS_API_INT:"//cmsapi.kvbprime.com",VUE_APP_HOME_ADDRESS_CN:"//kvbprime.asia",VUE_APP_HOME_ADDRESS_UK:"//kvbprime.co.uk",VUE_APP_HOME_ADDRESS_INT:"//kvbprime.com",VUE_APP_PAY_CN:"//pay.kvbprime.asia",VUE_APP_PAY_UK:"//pay.kvbprime.co.uk",VUE_APP_PAY_INT:"//pay.kvbprime.com",VUE_APP_NEW_BIT:"//main.gotnb.site/_",VUE_APP_NEW_BIT_INT:"//main.gotnb.site/_",VUE_APP_NEW_BIT_REGISTER:"//main.gotnb.site/v2/account/register",VUE_APP_NEW_BIT_REGISTER_TOKEN:"17fc33df88704b41b45de84def55c64a",VUE_APP_NEW_BIT_SDK_URL:"//main.gotnb.site",VUE_APP_NEW_BIT_SDK_LOGIN_URL:"//main.gotnb.site/user/register",VUE_APP_NEW_BIT_SDK_LOGIN_URL_INT:"//gotc.io/user/register",VUE_APP_NEW_BIT_SDK_TOKEN:"17fc33df88704b41b45de84def55c64a",VUE_APP_REGISTER_CN:"//register.kvbprime",VUE_APP_REGISTER_UK:"//register.kvbprime.co.uk",VUE_APP_REGISTER_INT:"//register.kvbprime.com",VUE_APP_QUOTE_API_CN:"//quote.{LOCATION}",VUE_APP_QUOTE_API_UK:"//quote.kvbprime.co.uk",VUE_APP_QUOTE_API_INT:"//quote.kvbprime.com",VUE_APP_INVITE_CLIENT_CN:"//kvbinvite.com",VUE_APP_INVITE_CLIENT_UK:"//kvbshare.co.uk",VUE_APP_INVITE_CLIENT_INT:"//kvbshare.com",VUE_APP_INVITE_IB_CN:"//{LOCATION}",VUE_APP_INVITE_IB_UK:"//kvbshare.co.uk",VUE_APP_INVITE_IB_INT:"//kvbshare.com",VUE_APP_CHAT_CN:"//lc.chat/now/10511302",VUE_APP_CHAT_UK:"//direct.lc.chat/11370537",VUE_APP_CHAT_INT:"//direct.lc.chat/11370537",VUE_APP_STATIC_FILE_CN:"//storage.googleapis.com/kvbprime",VUE_APP_STATIC_FILE_UK:"//statics.kvbprime.co.uk",VUE_APP_STATIC_FILE_INT:"//statics.kvbprime.com",VUE_APP_CRM_V2_CN:"//uc.mykvbprime.com",VUE_APP_CRM_V2_UK:"//uc.kvbprime.co.uk",VUE_APP_CRM_V2_INT:"//uc.kvbprime.com",VUE_APP_HELP_CENTER_CN:"//help.kvbprime.asia",VUE_APP_HELP_CENTER_UK:"/",VUE_APP_HELP_CENTER_INT:"//help.kvbprime.com",VUE_APP_IB_LOGIN_CN:"//kvbma.me",VUE_APP_IB_NEW_LOGIN_CN:"//kvbma.me",VUE_APP_IB_LOGIN_UK:"/",VUE_APP_IB_LOGIN_INT:"//kvbib.com",VUE_APP_IB_LOGIN_DEV_CN:"//ib88beta.fteamx.com",VUE_APP_IB_LOGIN_DEV_UK:"/",VUE_APP_IB_LOGIN_DEV_INT:"//ib88beta-int.fteamx.com",VUE_APP_UPGRADE_API_CN:"//api.mykvbprime.com",VUE_APP_UPGRADE_API_UK:"/",VUE_APP_UPGRADE_API_INT:"//portal.kvbprime.com",VUE_APP_GOOGLE:"533538864517-var9qp028uo23pd481okeb5kf1hqq0dj.apps.googleusercontent.com",VUE_APP_TWITTER:"PKWJJMLjl0kITeAgK5QQ8V7m9",VUE_APP_FACEBOOK:"541089193243130",VUE_APP_AUTH_PROXY:"https://auth-server.herokuapp.com/proxy",VUE_APP_ACTIVITY_API_CN:"//activity-api.kvbprime.com.cn",VUE_APP_ACTIVITY_API_UK:"/",VUE_APP_ACTIVITY_API_INT:"/",VUE_APP_GOOGLE_GRECAPT_INT:"//www.recaptcha.net/recaptcha/api.js?hl=en",VUE_APP_GOOGLE_SITEKEY_INT:"6LcxzMAZAAAAAM2zQZWR_kLhR9mvraDLAeM1BYb5",VUE_APP_COPYTRADE_CN:"//kvb.followme.com",VUE_APP_COPYTRADE_UK:"/",VUE_APP_COPYTRADE_INT:"//kvbprime.followme.com",NODE_ENV:"production",BASE_URL:"/"});this.gapi=window.gapi,this.gapi.load("auth2",function(){t.auth2=t.gapi.auth2.init({client_id:e.VUE_APP_GOOGLE,cookiepolicy:"single_host_origin",scope:"email"});var a=t.$refs.googlebtn;t.getPluginsData(a)})}},{key:"getPluginsData",value:function(t){var e=this,a=this;a.auth2.attachClickHandler(t,{},function(t){var i=a.auth2.currentUser.get().getBasicProfile(),r=a.auth2.currentUser.get().getAuthResponse();i.getEmail();e.dataList[0].type&&a.unbind({authResponse:r},5),e.dataList[0].type||a.bind({authResponse:r},5)},function(t){console.log(JSON.stringify(t,void 0,2))})}},{key:"initData",value:function(){this.getsocialAccountInfos()}},{key:"beforeMount",value:function(){this.menuRoute={name:this.$route.name+"-edit",callback:function(t){console.log(t)}}}},{key:"unbind",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e,a){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=5,"facebook"===a&&(i=6),"twitter"===a&&(i=7),t.prev=3,t.next=6,T.accountUnbindSocialAccount({AccessToken:e.authResponse.access_token,PlatformType:i});case 6:this.showConfirm=!1,this.initData(),t.next=13;break;case 10:return t.prev=10,t.t0=t["catch"](3),t.abrupt("return",this.$message.error(this.$t(t.t0.message)));case 13:case"end":return t.stop()}},t,this,[[3,10]])}));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"bind",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e,a){var i,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=5,r=e.authResponse.access_token,"facebook"===a&&(i=6),"twitter"===a&&(i=7,r=e.authResponse.oauth_token+"&"+e.authResponse.oauth_token_secret),t.prev=4,t.next=7,T.accountBindSocialAccount({AccessToken:r,PlatformType:i});case 7:this.showConfirm=!1,this.initData(),t.next=14;break;case 11:return t.prev=11,t.t0=t["catch"](4),t.abrupt("return",this.$message.error(this.$t(t.t0.message)));case 14:case"end":return t.stop()}},t,this,[[4,11]])}));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"showConfirmModule",value:function(){this.showConfirm=!0,this.confirmText="",this.dataList[0].type&&(this.confirmTitle=this.$t("setting.BindAccount.CancelBind"),this.confirmText=this.$t("setting.BindAccount.DeleteBind")),this.dataList[0].type||(this.confirmTitle=this.$t("setting.BindAccount.SureBindText"))}},{key:"bindAccount",value:function(t,e){var a=this.$t("setting.BindAccount.SureBindText"),i="";t&&(a=this.$t("setting.BindAccount.CancelBind"),i=this.$t("setting.BindAccount.DeleteBind")),this.$confirm(i,a,{showClose:!1,confirmButtonText:this.$t("pay.Global.Confirm"),cancelButtonText:this.$t("pay.Global.Cancel"),cancelButtonClass:"el-button--info",closeOnClickModal:!1,closeOnPressEscape:!1}).then(Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}))).catch(function(){})}},{key:"errorBack",value:function(t){this.$message.error("login error and tray again")}},{key:"bindText",value:function(t){return t?this.$t("setting.BindAccount.Binded"):this.$t("setting.BindAccount.ToBind")}},{key:"dataList",get:function(){var t=[{name:"Google",type:0}];return this.socialAccountInfos.length?(this.socialAccountInfos.forEach(function(e,a){5===e.PlatformType&&(t[0].type=1,t[0].email=e.PlatformRemark),e.PlatformType,e.PlatformType}),t):t}}]),e}(Object(P["b"])(p["a"]));Object(l["a"])([Object(m["a"])("AccountStore").State],I.prototype,"socialAccountInfos",void 0),Object(l["a"])([Object(m["a"])("AccountStore").Action],I.prototype,"getsocialAccountInfos",void 0),I=Object(l["a"])([Object(P["a"])({components:{AppView:d["a"],AppMenu:b["a"],AppMenuItem:E["a"],FormItemGroup:A["a"],FormItem:v["a"]}})],I);var U=I,V=U,C=(a("33b4"),a("2877")),g=Object(C["a"])(V,i,r,!1,null,"bb4a7758",null);e["default"]=g.exports},7932:function(t,e,a){"use strict";var i=a("e1fe"),r=a.n(i);r.a},b9d3:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"password-reset-hello"},[a("form-item",{attrs:{label:t.pwdTitle,invalid:!t.validator.ValidContent}},[a("el-input",{attrs:{maxlength:16,type:"password","show-password":"",autocomplete:"new-password"},model:{value:t.formData.UpdatePassword,callback:function(e){t.$set(t.formData,"UpdatePassword",e)},expression:"formData.UpdatePassword"}}),t._v(" "),a("div",{staticClass:"password-setup__validate",attrs:{slot:"append"},slot:"append"},[a("ul",{staticClass:"password-setup"},[a("li",{staticClass:"password-setup__validate-item",class:{"is-invalid":!t.validator.ValidLength}},[t._v(t._s(t.convertText("setting.ChangePassword.FormValidator.PasswordLength")))]),t._v(" "),a("li",{staticClass:"password-setup__validate-item",class:{"is-invalid":!t.validator.ValidMix}},[t._v(t._s(t.convertText("setting.ChangePassword.FormValidator.PasswordMix")))]),t._v(" "),a("li",{staticClass:"password-setup__validate-item",class:{"is-invalid":!t.validator.ValidLetter}},[t._v(t._s(t.convertText("setting.ChangePassword.FormValidator.PasswordLetter")))])])])],1),t._v(" "),a("form-item",{attrs:{label:t.pwdReCheck,"invalid-text":t.retypePasswordInvalidText}},[a("el-input",{attrs:{maxlength:16,type:"password","show-password":"",autocomplete:"new-password"},on:{blur:t.showRetypePasswordInvalidText},model:{value:t.formData.RetypePassword,callback:function(e){t.$set(t.formData,"RetypePassword",e)},expression:"formData.RetypePassword"}})],1)],1)},r=[],n=a("d225"),s=a("b0b4"),o=a("308d"),c=a("6bb5"),_=a("4e2b"),u=a("9ab4"),l=a("60a3"),P=a("58d1"),m=a("8c67"),p=a("b77e"),d=a("fb29"),b=function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(o["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.formData={UpdatePassword:"",RetypePassword:""},t.isBlurRetpeInput=!1,t}return Object(_["a"])(e,t),Object(s["a"])(e,[{key:"showRetypePasswordInvalidText",value:function(){this.formData.UpdatePassword&&(this.isBlurRetpeInput=!0)}},{key:"handleUpdatePassword",value:function(){var t=this.validator,e=t.ValidContent,a=t.ValidRetype;e&&a?this.$emit("handleSubmit",this.formData.UpdatePassword):this.$emit("handleSubmit","")}},{key:"retypePasswordInvalidText",get:function(){var t=this.validator,e=t.ValidContent,a=t.ValidRetype;return e&&this.isBlurRetpeInput?a?"":this.errorRetypeText:""}},{key:"validator",get:function(){var t=this.formData,e=t.UpdatePassword,a=t.RetypePassword,i={PasswordLength:/.{6,16}/,PasswordMix:/^(?=.*\d)(?=.*[a-z])/,PasswordLetter:/[A-Z]/,PasswordContent:/^(?=.{6,16})(?=.*\d)(?=.*[a-z])(?=.*[A-Z])/};return{ValidLength:i.PasswordLength.test(e)&&e,ValidMix:i.PasswordMix.test(e)&&e,ValidLetter:i.PasswordLetter.test(e)&&e,ValidContent:i.PasswordContent.test(e)&&e,ValidRetype:e===a&&a}}}]),e}(Object(l["b"])(P["a"]));Object(u["a"])([Object(l["c"])({default:function(){return""}})],b.prototype,"pwdTitle",void 0),Object(u["a"])([Object(l["c"])({default:function(){return""}})],b.prototype,"pwdReCheck",void 0),Object(u["a"])([Object(l["c"])({default:function(){return""}})],b.prototype,"errorRetypeText",void 0),Object(u["a"])([Object(l["e"])("validator")],b.prototype,"handleUpdatePassword",null),b=Object(u["a"])([Object(l["a"])({components:{AppView:m["a"],FormItemGroup:p["a"],FormItem:d["a"]}})],b);var E=b,A=E,v=(a("eb0c"),a("2877")),f=Object(v["a"])(A,i,r,!1,null,"a6378658",null);e["a"]=f.exports},e1fe:function(t,e,a){},eb0c:function(t,e,a){"use strict";var i=a("0eb7"),r=a.n(i);r.a},fed8:function(t,e,a){},ffc3:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-button",t._b({staticClass:"get-code-btn",class:{"is-disabled":t.isDisabled||t.smsCodeTimer},attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.startTimer(e)}}},"el-button",t.$attrs,!1),[t._v("\n  "+t._s(t.waitTime?t.waitTime+"s":t.text)+"\n")])},r=[],n=a("d225"),s=a("b0b4"),o=a("308d"),c=a("6bb5"),_=a("4e2b"),u=a("9ab4"),l=a("60a3"),P=function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(o["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.waitTime=0,t.smsCodeTimer=null,t}return Object(_["a"])(e,t),Object(s["a"])(e,[{key:"created",value:function(){this.clearTimer()}},{key:"mounted",value:function(){this.clearTimer()}},{key:"beforeDestroy",value:function(){this.clearTimer()}},{key:"startTimer",value:function(){if(this.$emit("isClick"),this.isDisabled||this.smsCodeTimer)return!1;this.hanlderTimer(this.time),this.$emit("startTimer")}},{key:"hanlderTimer",value:function(t){var e=this;this.waitTime=t--,this.smsCodeTimer=setTimeout(function(){if(e.waitTime=t,t<=0)return clearTimeout(e.smsCodeTimer),void(e.smsCodeTimer=null);e.hanlderTimer(t)},1e3)}},{key:"clearTimer",value:function(){clearTimeout(this.smsCodeTimer),this.smsCodeTimer=null}}]),e}(l["d"]);Object(u["a"])([Object(l["c"])({default:function(){return""}})],P.prototype,"text",void 0),Object(u["a"])([Object(l["c"])({default:function(){return!1}})],P.prototype,"isDisabled",void 0),Object(u["a"])([Object(l["c"])({default:function(){return 30}})],P.prototype,"time",void 0),P=Object(u["a"])([l["a"]],P);var m=P,p=m,d=(a("2173"),a("2877")),b=Object(d["a"])(p,i,r,!1,null,"5fbcfe6c",null);e["a"]=b.exports}}]);