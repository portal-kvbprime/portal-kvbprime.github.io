(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SummaryDetails"],{"9d94":function(e,t,a){"use strict";var r=a("fabb"),i=a.n(r);i.a},f877:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("app-view",{staticClass:"summary-details",attrs:{title:"report.SummaryDetails.Title","extend-callback":e.handleBack}},[a("span",{staticClass:"summary-details__user-name",attrs:{slot:"header-append"},slot:"header-append"},[e._v(e._s(e.params.text))]),e._v(" "),a("report-table-switch",{attrs:{slot:"options",columns:e.columns,"button-text":"report.Global.Button.ColumnFilter"},slot:"options"}),e._v(" "),a("report-view",{attrs:{loading:e.isLoading,data:e.accountSummaryList,columns:e.columns,queries:e.queries,"expand-key":"MTAccount"},on:{search:e.handleSearch,"current-change":e.handlePageChange,"sort-change":e.handleSortChange}})],1)},i=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("a481"),a("96cf"),a("3b8d")),s=a("bd86"),o=a("d225"),u=a("b0b4"),c=a("308d"),l=a("6bb5"),p=a("4e2b"),m=a("9ab4"),h=a("60a3"),b=a("4bb5"),y=a("8c67"),d=a("66cf"),f=a("5e31"),g=a("7929"),v=a("5e04"),D=a("9eb8"),O=[{type:D["b"].DateRange,default:[new Date,new Date],prop:"days",label:"report.Global.Query.Times.Label",shortcuts:d["b"]}],w=[{prop:"MTAccount",label:"report.SummaryDetails.Column.MTAccount",width:80,visible:!0,visibleLocked:!0},{prop:"Balance",label:"report.SummaryDetails.Column.Balance",width:100,visible:!0,align:"right",fit:!0,formatter:v["a"].number},{prop:"Volume",label:"report.SummaryDetails.Column.Volume",width:120,visible:!0,align:"right",fit:!0,formatter:v["a"].number},{prop:"Commission",label:"report.SummaryDetails.Column.Commission",width:120,visible:!0,align:"right",fit:!0,formatter:v["a"].number},{prop:"Equity",label:"report.SummaryDetails.Column.Equity",width:120,visible:!0,align:"right",fit:!0,formatter:v["a"].number},{prop:"Swap",label:"report.SummaryDetails.Column.Swap",width:120,visible:!1,align:"right",fit:!0,formatter:v["a"].number},{prop:"Profit",label:"report.SummaryDetails.Column.Profit",width:120,visible:!0,align:"right",fit:!0,formatter:v["a"].number}];function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach(function(t){Object(s["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var k=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.isLoading=!1,e.backRouteName="transaction-summary",e.queries=O,e.columns=w,e.queryDays=[],e.queryData={SearchUID:0,BeginDate:0,EndDate:0,Pager:{PageIndex:1,PageSize:10,OrderBy:[]}},e}return Object(p["a"])(t,e),Object(u["a"])(t,[{key:"saveQueries",value:function(){this.queries=Object(d["i"])(this.queries,j({},this.queryData,{days:this.queryDays}))}},{key:"reloadList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.prev=1,e.next=4,this.getAccountSummaryList(this.queryData);case 4:this.saveQueries(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),this.$message.error(this.$t(e.t0.message));case 10:return e.prev=10,this.isLoading=!1,e.finish(10);case 13:case"end":return e.stop()}},e,this,[[1,7,10,13]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"handleSearch",value:function(e){var t=e.days;this.queryDays=t,this.queryData.SearchUID=this.params.UID,this.queryData.Pager.PageIndex=1,this.queryData.BeginDate=Object(d["c"])(t[0]),this.queryData.EndDate=Object(d["c"])(t[1],!0),this.reloadList()}},{key:"handlePageChange",value:function(e){this.queryData.Pager.PageIndex=e,this.reloadList()}},{key:"handleSortChange",value:function(e){var t=e.SortName,a=e.SortOrder;this.queryData.Pager.PageIndex=1,this.queryData.Pager.OrderBy=[],void 0!==a&&(this.queryData.Pager.OrderBy=[{Field:t,Type:a}]),this.reloadList()}},{key:"handleBack",value:function(){var e=this.params.keepKey,t=d["h"].encode({keepKey:e});this.$router.replace({name:this.backRouteName,query:{restore:t}})}},{key:"beforeMount",value:function(){if(!this.params.UID)return this.$router.replace({name:this.backRouteName})}},{key:"params",get:function(){var e=this.$route.params.key,t=void 0===e?"":e,a=d["h"].decode(t);return{UID:+a.UID||0,text:a.text||"",keepKey:a.keepKey}}}]),t}(h["d"]);Object(m["a"])([Object(b["a"])("TradeStore").State],k.prototype,"accountSummaryList",void 0),Object(m["a"])([Object(b["a"])("TradeStore").Action],k.prototype,"getAccountSummaryList",void 0),k=Object(m["a"])([Object(h["a"])({components:{AppView:y["a"],ReportTableSwitch:f["a"],ReportView:g["a"]}})],k);var P=k,q=P,C=(a("9d94"),a("2877")),x=Object(C["a"])(q,r,i,!1,null,"aeba18f8",null);t["default"]=x.exports},fabb:function(e,t,a){}}]);