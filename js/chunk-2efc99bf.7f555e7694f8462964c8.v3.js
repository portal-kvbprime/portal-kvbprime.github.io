(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2efc99bf"],{"03d3":function(e,t,r){},"0f9b":function(e,t,r){"use strict";var n=r("d71b"),i=r.n(n);i.a},2173:function(e,t,r){"use strict";var n=r("03d3"),i=r.n(n);i.a},3306:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("user-verify",{attrs:{title:e.$t("profile.Contact.EditPhone"),fromRoute:e.fromRoute,toRoute:e.toRoute,isBtnLoading:e.isBtnLoading},on:{isGetCode:e.getSMSCode,isSubmit:e.postData}},[r("p",{staticClass:"header-text"},[e._v(e._s(e.$t("profile.Verify.HeaderText")))])])},i=[],a=(r("96cf"),r("3b8d")),o=r("d225"),c=r("b0b4"),s=r("308d"),u=r("6bb5"),f=r("4e2b"),l=r("9ab4"),p=r("60a3"),d=r("4bb5"),m=r("67c2"),b=r("843e"),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("AppView",{attrs:{title:e.title,"extend-callback":e.handleCancel}},[r("form-item-group",{ref:"validator",attrs:{model:e.formData,validation:e.validation()}},[e._t("default",[r("p",{staticClass:"header-text"},[e._v(e._s(e.$t("profile.Verify.HeaderText")))])]),e._v(" "),r("div",{staticClass:"tab-content"},[r("form-item",{attrs:{label:e.$t("profile.Verify.Email")}},[r("span",{staticClass:"email-text"},[e._v(e._s(e.accountInfo.Email))])]),e._v(" "),r("form-item",{attrs:{prop:"VerifyCode",trigger:!1,label:e.$t("profile.VerifyCode")}},[r("el-input",{on:{blur:function(t){return e.$refs.validator.validate("VerifyCode")}},model:{value:e.formData.VerifyCode,callback:function(t){e.$set(e.formData,"VerifyCode",t)},expression:"formData.VerifyCode"}}),e._v(" "),r("btn-timer",{attrs:{round:"",size:"mini",text:e.$t("profile.GetVerifyCode"),time:60},on:{startTimer:function(t){return e.getSMSCode(e.codeData)}}})],1)],1),e._v(" "),r("div",{staticClass:"btn-wrap"},[r("el-button",{staticClass:"g-main-btn",class:{"is-disabled":e.submitDisabled,"el-btn-with-loading":!0},attrs:{round:"",type:"primary",loading:e.isBtnLoading},on:{click:function(t){return e.postData(e.formData)}}},[e._v(e._s(e.$t("profile.BtnNext")))]),e._v(" "),r("p",{staticClass:"commit-text"},[e._v(e._s(e.$t("profile.CommitText")))])],1)],2)],1)},v=[],y=r("7a96"),g=r("5364"),j=r("fb29"),C=r("b77e"),O=r("8c67"),k=r("ffc3"),w=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.validationRegex=y["a"],e.formData={LoginName:"",VerifyCode:""},e}return Object(f["a"])(t,e),Object(c["a"])(t,[{key:"handlerFormData",value:function(){this.formData.LoginName=this.accountInfo.Email}},{key:"beforeMount",value:function(){this.handlerFormData()}},{key:"postData",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.$refs.validator,r.validate()){e.next=3;break}return e.abrupt("return",this.$message.error(this.$t("global.RuleMsg.Incomplete")));case 3:this.$emit("isSubmit",{VerifyCode:this.formData.VerifyCode});case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSMSCode",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("isGetCode",{ReceiverType:2});case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"validation",value:function(){var e=this.$t("profile.ErrorMsg.Empty");return{VerifyCode:[{type:g["c"].Required,message:e+this.$t("profile.VerifyCode")},{type:g["c"].Custom,callback:function(e){return y["a"].VerifyCode.test(e)},message:this.$t("profile.ErrorMsg.VerifyCode.Msg1")}]}}},{key:"handleCancel",value:function(){var e=this.$route.query.origin;if(e)return this.$router.push({path:e,query:this.$route.query});this.$router.push(this.fromRoute)}},{key:"codeData",get:function(){return{LoginName:this.accountInfo.Email,ReceiverType:2,PhoneArea:"0"}}},{key:"submitDisabled",get:function(){return!y["a"].VerifyCode.test(this.formData.VerifyCode)}}]),t}(p["d"]);Object(l["a"])([Object(d["a"])("AccountStore").State],w.prototype,"accountInfo",void 0),Object(l["a"])([Object(p["c"])({default:function(){return""}})],w.prototype,"title",void 0),Object(l["a"])([Object(p["c"])({default:function(){}})],w.prototype,"fromRoute",void 0),Object(l["a"])([Object(p["c"])({default:function(){}})],w.prototype,"toRoute",void 0),Object(l["a"])([Object(p["c"])({default:!1})],w.prototype,"isBtnLoading",void 0),Object(l["a"])([Object(p["e"])("accountInfo")],w.prototype,"handlerFormData",null),w=Object(l["a"])([Object(p["a"])({metaInfo:function(){return{title:"KVB PRIME"}},components:{AppView:O["a"],FormItem:j["a"],FormItemGroup:C["a"],BtnTimer:k["a"]}})],w);var T=w,$=T,x=(r("0f9b"),r("2877")),V=Object(x["a"])($,h,v,!1,null,"6ea457e5",null),R=V.exports,_=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.isBtnLoading=!1,e}return Object(f["a"])(t,e),Object(c["a"])(t,[{key:"beforeMount",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAccountInfo();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),this.$message.error(e.t0.message);case 8:case"end":return e.stop()}},e,this,[[0,5]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"postData",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!0!==this.isBtnLoading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.isBtnLoading=!0,e.next=6,(new b["a"]).checkVerifyCodeForCurrentMember(t);case 6:this.$router.push({name:this.accountPath.phone,query:this.$route.query,params:{to:"edit",code:t.VerifyCode}}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),this.$message.error(e.t0.message);case 12:return e.prev=12,this.isBtnLoading=!1,e.finish(12);case 15:case"end":return e.stop()}},e,this,[[2,9,12,15]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSMSCode",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(new b["a"]).getVerifyCodeForCurrentMember(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),this.$message.error(e.t0.message);case 8:case"end":return e.stop()}},e,this,[[0,5]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleCancel",value:function(){this.$router.push({name:this.accountPath.contact})}},{key:"accountPath",get:function(){return 2===this.accountInfo.AccountType?m["a"]:m["b"]}},{key:"fromRoute",get:function(){return{name:this.accountPath.contact}}},{key:"toRoute",get:function(){return{name:this.accountPath.phone,params:{to:"edit"}}}}]),t}(p["d"]);Object(l["a"])([Object(d["a"])("AccountStore").State],_.prototype,"accountInfo",void 0),Object(l["a"])([Object(d["a"])("AccountStore").Action],_.prototype,"getAccountInfo",void 0),_=Object(l["a"])([Object(p["a"])({metaInfo:function(){return{title:"KVB PRIME"}},components:{UserVerify:R}})],_);var D=_,S=D,I=(r("a78cb"),Object(x["a"])(S,n,i,!1,null,"9d4b1f16",null));t["default"]=I.exports},"3d9e":function(e,t,r){},"67c2":function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});var n={picture:"profile-client-picture",contact:"profile-client-contact",account:"profile-client-account-info",accountWallet:"profile-client-account-info-wallet",accountSuccess:"profile-client-account-info-success",address:"profile-client-address-info",addressSuccess:"profile-client-address-info-success",phone:"profile-client-contact-phone",verify:"profile-client-verify"},i={picture:"profile-picture",contact:"profile-contact",account:"profile-account-info",accountWallet:"profile-account-info-wallet",accountSuccess:"profile-account-info-success",phone:"profile-contact-phone",verify:"profile-verify"}},a78cb:function(e,t,r){"use strict";var n=r("3d9e"),i=r.n(n);i.a},d71b:function(e,t,r){},ffc3:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-button",e._b({staticClass:"get-code-btn",class:{"is-disabled":e.isDisabled||e.smsCodeTimer},attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),e.startTimer(t)}}},"el-button",e.$attrs,!1),[e._v("\n  "+e._s(e.waitTime?e.waitTime+"s":e.text)+"\n")])},i=[],a=r("d225"),o=r("b0b4"),c=r("308d"),s=r("6bb5"),u=r("4e2b"),f=r("9ab4"),l=r("60a3"),p=function(e){function t(){var e;return Object(a["a"])(this,t),e=Object(c["a"])(this,Object(s["a"])(t).apply(this,arguments)),e.waitTime=0,e.smsCodeTimer=null,e}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"created",value:function(){this.clearTimer()}},{key:"mounted",value:function(){this.clearTimer()}},{key:"beforeDestroy",value:function(){this.clearTimer()}},{key:"startTimer",value:function(){if(this.$emit("isClick"),this.isDisabled||this.smsCodeTimer)return!1;this.hanlderTimer(this.time),this.$emit("startTimer")}},{key:"hanlderTimer",value:function(e){var t=this;this.waitTime=e--,this.smsCodeTimer=setTimeout(function(){if(t.waitTime=e,e<=0)return clearTimeout(t.smsCodeTimer),void(t.smsCodeTimer=null);t.hanlderTimer(e)},1e3)}},{key:"clearTimer",value:function(){clearTimeout(this.smsCodeTimer),this.smsCodeTimer=null}}]),t}(l["d"]);Object(f["a"])([Object(l["c"])({default:function(){return""}})],p.prototype,"text",void 0),Object(f["a"])([Object(l["c"])({default:function(){return!1}})],p.prototype,"isDisabled",void 0),Object(f["a"])([Object(l["c"])({default:function(){return 30}})],p.prototype,"time",void 0),p=Object(f["a"])([l["a"]],p);var d=p,m=d,b=(r("2173"),r("2877")),h=Object(b["a"])(m,n,i,!1,null,"5fbcfe6c",null);t["a"]=h.exports}}]);